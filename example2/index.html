<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test results</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600&amp;display=swap" rel="stylesheet">
    <link href="./styles.css" rel="stylesheet">
    <base href="./">
  </head>
  <body>
    <main>
      <section>
        <div class="wrapper">
          <h2>Test results</h2>
          <header>
            <p>Test Start: 9/30/2021, 10:26:29 AM</p>
            <p>Test End: 9/30/2021, 10:27:24 AM</p>
            <p>Duration: 55 seconds</p>
            <h3>Breakdown</h3>
            <div class="breakdown table">
              <div class="breakdown tableRow">
                <div class="breakdown tableHead passed">Passed</div>
                <div class="breakdown tableCell">0</div>
              </div>
              <div class="breakdown tableRow">
                <div class="breakdown tableHead failed">Failed</div>
                <div class="breakdown tableCell">2</div>
              </div>
              <div class="breakdown tableRow">
                <div class="breakdown tableHead skipped">Skipped</div>
                <div class="breakdown tableCell">0</div>
              </div>
              <div class="breakdown tableRow">
                <div class="breakdown tableHead">Total</div>
                <div class="breakdown tableCell">2</div>
              </div>
            </div>
          </header>
          <h2>Features</h2>
          <article class="fixture">
            <h3 class="test-header collapse">
              <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Feature 1</span></button>
              <hr>
              <div class="test-labels"><span class="label">28 seconds</span><span class="label error">failure</span></div>
            </h3>
            <div class="fixture-tests">
              <h4 class="test-header collapse">
                <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Scenario: Take control</span></button>
                <hr>
                <div class="test-labels"><span class="label">28 seconds</span><span class="label error">failure</span></div>
              </h4>
              <div>
                <div class="test-error">
                  <pre class="test-error-stack"><code>Error
	at foo:123</code></pre>
                  <div class="test-screenshot-container"><a href="./test/screenshots/image.jpg"><img class="test-screenshot" src="./test/screenshots/image.jpg" alt="Scenario: Take control"></a></div>
                </div>
              </div>
            </div>
          </article>
          <article class="fixture">
            <h3 class="test-header collapse">
              <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Feature 2</span></button>
              <hr>
              <div class="test-labels"><span class="label">54 seconds</span><span class="label error">failure</span></div>
            </h3>
            <div class="fixture-tests">
              <h4 class="test-header collapse">
                <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> test 1</span></button>
                <hr>
                <div class="test-labels"><span class="label">27 seconds</span><span class="label error">failure</span></div>
              </h4>
              <div>
                <div class="test-error">
                  <pre class="test-error-stack"><code>Error
	at foo:123
	(/home/runner/work/foo-bar-baz/foo-bar-baz/node_modules/gherkin-testcafe/src/compiler.js:263:21)
	at &lt;anonymous&gt;</code></pre>
                  <div class="test-screenshot-container"><a href="./test/screenshots/image.jpg"><img class="test-screenshot" src="./test/screenshots/image.jpg" alt="test 1"></a></div>
                </div>
              </div>
              <h4 class="test-header collapse">
                <button type="button" aria-expanded="false"><span class="collapse-icon">+</span><span> test 2</span></button>
                <hr>
                <div class="test-labels"><span class="label">27 seconds</span><span class="label success">success</span></div>
              </h4>
              <div hidden>
              </div>
            </div>
          </article>
          <article class="fixture">
            <h3 class="test-header collapse">
              <button type="button" aria-expanded="false"><span class="collapse-icon">+</span><span> Feature 3</span></button>
              <hr>
              <div class="test-labels"><span class="label">54 seconds</span><span class="label success">success</span></div>
            </h3>
            <div class="fixture-tests">
              <h4 class="test-header collapse">
                <button type="button" aria-expanded="false"><span class="collapse-icon">+</span><span> test 1</span></button>
                <hr>
                <div class="test-labels"><span class="label">27 seconds</span><span class="label success">success</span></div>
              </h4>
              <div hidden>
              </div>
              <h4 class="test-header collapse">
                <button type="button" aria-expanded="false"><span class="collapse-icon">+</span><span> test 2</span></button>
                <hr>
                <div class="test-labels"><span class="label">27 seconds</span><span class="label success">success</span></div>
              </h4>
              <div hidden>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
  </body>
  <script>
    (function() {
      window.addEventListener('DOMContentLoaded', (event) => {
        const headings = document.querySelectorAll('.collapse')
    
        Array.prototype.forEach.call(headings, heading => {
          const btn = heading.querySelector('button')
          const target = heading.nextElementSibling
          const icon = heading.querySelector('.collapse-icon');
    
          if (icon) {
            icon.innerHTML = btn.getAttribute('aria-expanded') === 'true' ? '&minus;' : '+';
          }
          target.hidden = btn.getAttribute('aria-expanded') === 'false';
    
          btn.onclick = () => {
            const expanded = btn.getAttribute('aria-expanded') === 'true' || false
            btn.setAttribute('aria-expanded', !expanded)
            if (icon) {
              icon.innerHTML = !expanded ? '&minus;' : '+';
            }
            target.hidden = expanded
          }
        })
      });
    })()
  </script>
</html>