<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test results</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600&amp;display=swap" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
  </head>
  <body>
    <main>
      <section>
        <div class="wrapper">
          <h2>Test results</h2>
          <header><span>Duration 55 seconds</span>
            <h3>Breakdown</h3>
            <div class="breakdown__Table">
              <div class="breakdown__TableRow">
                <div class="breakdown__TableHead breakdown__TableHead-passed">Passed</div>
                <div class="breakdown__TableCell">0</div>
              </div>
              <div class="breakdown__TableRow">
                <div class="breakdown__TableHead breakdown__TableHead-failed">Failed</div>
                <div class="breakdown__TableCell">2</div>
              </div>
              <div class="breakdown__TableRow">
                <div class="breakdown__TableHead breakdown__TableHead-skipped">Skipped</div>
                <div class="breakdown__TableCell">0</div>
              </div>
              <div class="breakdown__TableRow">
                <div class="breakdown__TableHead">Total</div>
                <div class="breakdown__TableCell">2</div>
              </div>
            </div>
          </header>
          <h2>Features</h2>
          <article class="fixture">
            <h3 class="collapse">
              <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Feature 1</span></button>
            </h3>
            <div class="fixture-tests">
              <h4 class="collapse">
                <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Scenario: Take control</span></button>
              </h4>
              <div>
                <div class="test-error">
                  <pre class="test-error-stack"><code>Error
	at foo:123</code></pre><a class="test-screenshot-container" href="./test/screenshots/image.jpg"><img class="test-screenshot" src="./test/screenshots/image.jpg" alt="Scenario: Take control"></a>
                </div>
              </div>
            </div>
          </article>
          <article class="fixture">
            <h3 class="collapse">
              <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> Feature 2</span></button>
            </h3>
            <div class="fixture-tests">
              <h4 class="collapse">
                <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> test 1</span></button>
              </h4>
              <div>
                <div class="test-error">
                  <pre class="test-error-stack"><code>Error
	at foo:123
	(/home/runner/work/foo-bar-baz/foo-bar-baz/node_modules/gherkin-testcafe/src/compiler.js:263:21)
	at &lt;anonymous&gt;</code></pre><a class="test-screenshot-container" href="./test/screenshots/image.jpg"><img class="test-screenshot" src="./test/screenshots/image.jpg" alt="test 1"></a>
                </div>
              </div>
              <h4 class="collapse">
                <button type="button" aria-expanded="true"><span class="collapse-icon">+</span><span> test 2</span></button>
              </h4>
              <div hidden>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
  </body>
  <script>
    (function() {
      window.addEventListener('DOMContentLoaded', (event) => {
        const headings = document.querySelectorAll('.collapse')
    
        Array.prototype.forEach.call(headings, heading => {
          const btn = heading.querySelector('button')
          const target = heading.nextElementSibling
          const icon = heading.querySelector('.collapse-icon');
    
          target.hidden = btn.getAttribute('aria-expanded') === 'false';
    
          btn.onclick = () => {
            const expanded = btn.getAttribute('aria-expanded') === 'true' || false
            btn.setAttribute('aria-expanded', !expanded)
            if (icon) {
              icon.innerHTML = !expanded ? '&minus;' : '+';
            }
            target.hidden = expanded
          }
        })
      });
    })()
  </script>
</html>